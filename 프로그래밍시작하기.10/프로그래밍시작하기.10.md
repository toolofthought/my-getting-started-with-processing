# 인터넷 메신저 다루기 #
## 텔레그램 ##
텔레그램은 한국에서는 아직 주류는 아니지만 점점 사용자 층이 늘어나고 있는 인터넷 메신저 서비스입니다. 특히 프로그래머에게 친근한 기능을 여러 개 가지고 있는데 우선 따로 클라이언트 프로그램을 설치하지 않아도 웹브라우저 상에서 이용이 가능하다는 점이 다른 서비스와 차별화되는 부분입니다. 여기에 더해 pdf파일 등을 보낼 수 있는 것도 카카오톡과 같은 서비스와 다른 점이라고 할 수 있습니다.

무엇보다도 텔레그램은 Bot서비스를 적극 지원합니다. 좀 더 정확하게 말하면 지원할 뿐만 아니라 Bot의 사용을 권장합니다. 아직도 Bot이 어떤 것인지 감이 오지 않으실 겁니다. 

그러면 유명한 텔레그램 봇을 한 번 살펴볼까요?

	https://web.telegram.org/#/im?p=@ImageBot

위의 링크를 클릭하세요. 텔레그램에 접속되어 있다면 봇과 새로운 대화창이 시작됩니다.

그러면 대화창에 다음과 같이 입력합시다.

	/get love

![](http://i.imgur.com/m1rCQIT.jpg)

다른 명령을 하나 더 실행해볼까요?

	/getgif heart

![](http://i.imgur.com/IXRLTye.png)

결과를 보시면 아시겠지만 /get이나 /getgif 명령 다음에 오는 키워드에 해당하는 이미지를 검색해서 보여주는 채팅봇입니다.

이제 Bot이 어떤 것인지 감 잡으셨나요? 우리도 Bot을 한 번 굴려보고 싶지 않으신가요? 복잡한 봇은 아니지만 그래도 엄연히 텔레그램에서 돌아가는 간단한 봇을 만들어 봅시다. 하나씩 천천히 단계별로 밟아가다보면 어느새 우리가 원하는 기능에 도달할 수 있을 것입니다.


### 봇 등록하기 ###
가장 먼저 해야 할 일은 우리가 만들 Bot을 텔레그램 서버에 등록하는 일입니다. 프로그래머 유머로 가득한 텔레그램 개발자들은 봇을 등록하는 일도 봇으로 하도록 만들었습니다. 영화 대부를 떠올리며 모든 봇의 아버지 BotFather를 만나봅시다.

![](http://i.imgur.com/BFvRyuo.png)

아래의 링크를 클릭하세요. BotFather와의 대화창이 나옵니다. 대화창 가운데 start버튼을 클릭하세요.

	https://web.telegram.org/#/im?p=@BotFather

![](http://i.imgur.com/A2xGINy.png)


BotFather와 대화하며 새로 만들 봇의 세부사항을 정해야 합니다. 하나씩 해봅시다.

#### 이름 ####
제일 먼저 이름을 정해야 합니다. 이름에는 큰 제한은 없습니다. 다른 사람이 사용하지 않으면 대부분의 이름은 사용가능합니다. 이름을 등록하는 명령어는

	/newbot

입니다.

그럼 적당한 이름으로 한 번 만들어 볼까? 대화창에 아래를 입력합시다.

	/newbot

![](http://i.imgur.com/OFQ4zwc.png)

실행하고 나면 BotFather가 말씀하시기를 봇이름을 입력하라고 하십니다.

![](http://i.imgur.com/GmBtlrR.png)

이름을 입력합시다.

	getting_started_with_processing

다음으로 username을 입력해야 합니다. username은 반드시 bot으로 끝나야 합니다.

	hello_processing_bot

![](http://i.imgur.com/iQOTd2n.png)

등록이 모두 끝났습니다. 등록을 마치면 BotFather는 우리가 등록한 봇을 구별하기 위해 유일한 토큰값(그림에서는 파란색으로 지워졌습니다)을 부여합니다. 텔레그램은 우리가 만든 봇을 인증하는데 이 토큰값을 사용하기를 기대합니다. 어디 잘 저장해 두는 것이 좋겠습니다.

#### 채팅창 ID 구하기 ####
우리

### Image 봇 실습 ###
### 텔레그램 API 실습 ###

## 지금시간봇 ##
현재 시간을 알려주는 봇

## 네이버/다음의 실시간 검색어 봇 ##
네이버와 다음의 실시간 검색어를 알려주는 봇

## 따라쟁이 봇 ##
입력된 문장을 따라하는 봇

## 영화흥행 봇 ##
어제 흥행 기록 알려주기

## 매물이 올라오면 알려주는 봇 ##
뭐 어떻게 되겠지요


*을 공부하자

    Home
    Location
    Tags
    Media
    Guestbook
    Admin
    New Post

    Notice
    	
    분류 전체보기 (165)
    	
    life (1)
    	
    review (4)
    	
    Java (21)
    	
    Javascript (40)
    	
    WebServer (19)
    	
    CSS (1)
    	
    php (3)
    	
    Ruby (1)
    	
    DB (13)
    	
    HTML (3)
    	
    Template Language (4)
    	
    encryption (2)
    	
    eclipse (7)
    	
    OS (31)
    	
    놀이터 (11)
    	
    SNS (3)

    Tags
    Linux 패턴 Pattern JS Workbench VMware static import http-method Git Java 원격 비밀번호 분실 Eclipse JavaScript sentos MySQL exception static tomcat import CentOS oracle Apache AES256 Regular Expression db InvalidKeyException 정렬 Windows import static

    Recent Entries
    redmine 설치.
    jQuery Attributes vs. Properties.
    Synology에서 텔레그램 봇으로 로그 전송...
    텔레그램 봇으로 메시지 전송하기.
    한글 검사 패턴.
    ECS 메인보드 H81H3-I / WOL 기능 활성화... (1)
    HTTP 완벽 가이드 1일차.
    Maven - error: unmappable character fo...
    일본방송 NHK-G 스트리밍.
    일본방송 도쿄방송계열 스트리밍.

    Recent Comments
    추가로 전원 관리 설정의 R... 웨스커 02.12
    SVN관련 정보 감사드립니다.. 팔팔청춘 2014
    컴퓨터로 Img태그를 입력하면... 잿빛위묘 2014
    안녕하세요 ^^ 포스팅 잘 읽었... fa.de. 2013
    링크해주신 덕분에 빠르게 잘... 설원랑 2012

    Recent Trackbacks
    MetroVal Valuations. www.store-finder.net 05.21
    property valuation website. www.store-finder.net 05.21
    need a property valuation on... www.fonobiz.com 05.20
    click through the following... au.ypgo.net 05.20
    click this. expertini.com 05.20

    Archives
    2016/02 (2)
    2016/01 (4)
    2015/11 (9)
    2015/10 (5)
    2015/09 (6)

    «   2016/06   » 일 	월 	화 	수 	목 	금 	토
      	  	  	1 	2 	3 	4
    5 	6 	7 	8 	9 	10 	11
    12 	13 	14 	15 	16 	17 	18
    19 	20 	21 	22 	23 	24 	25
    26 	27 	28 	29 	30 	  	 

    Links
    베리냥의 개발천국.
    김군.
    GMPaPa.

    Total : 142,135
    Today : 3
    Yesterday : 84
    tistory
    티스토리 가입하기!
    rss

	

텔레그램 봇으로 메시지 전송하기
SNS 2016.01.19 14:28

전에 상대방에게 직접적으로 메시지를 전송하려고 엄청난 삽질을 하다가 아이디값을 확인할 방법을 찾지못해 좌절하고 접고 있었는데, 간만에 쉬운방법을 알게됐다. 텔레그램의 봇기능을 이용하여 메시지를 전송하는 방법이다. 작업도 매우 심플하고 기타 장치에서 스마트폰으로 메시지를 전송할 수 있는 장점이 있다. 벌써 여러가지 용도로 활용하시는 분들이 많이 계시므로 나는 차근차근 따라해보기로 했다. 나는 아이폰이므로 아이폰 기준 설명이 되겠다.


1. 봇을 만들어보자.


채팅방 상단에 보면 검색 기능이 있는데 거기에 @BotFather 넣어 검색해보면 대부 케릭터의 로봇버젼같이 생긴게 나온다. 들어가서 시작을 눌러보자.

	


시작버튼을 누르고 채팅창에 /start 라고 입력하면 명령어 목록이 나온다. 봇의 생성은 /newbot 입력하면 된다. 처음에는 봇 창의 타이틀로 사용한 메시지를 넣자. 이미지에서 상단 중앙에 BotFather 라는 문구가 있는 위치에 나오는 문구이다. Test Notice 같이 입력하자. 그리고 두번째 입력할 내용은 봇의 이름인데, URL로 사용되다보니 유니크한 값이여야하고 _bot 으로 끝나야한다. 예를 들면 Test_BOT과 같다.


	


위 오른쪽 이미지에 보면 마지막에 나오는 문구가 성공한 문구이다. 여기에 123123123:qweiasdfjlkj 비스무리한 API 토큰이 있으니 메모해둔다. 여기까지했으면 봇 생성이 완료됐다. telegram.me/****_BOT 이라고 있는 링크를 터치하면 봇과의 대화창으로 연결된다.



2. chat_id 를 확인하자


API 토큰의 값이 12345678:abcdefghijklmn 이라고 한다면 다음과 같이 URL을 만들어서 브라우저에 입력해보자.

https://api.telegram.org/bot12345678:abcdefghijklmn/getUpdates


아래와 같이 나온다면 실패다.

{"ok":false,"error_code":401,"description":"[Error]: Unauthorized"}


정상은 다음과 같다.

{"ok":true,"result":""}


그런데 내용이 없다. 봇에게 아무 메시지나 다시 보내보고 URL를 들어가보면 정상적으로 나올 것이다.

{"ok":true,"result":[{"update_id":123456,"message":{"message_id":2,"from":{"id":67890,"first_name":" .....


위와 같은 메시지가 나오는데 붉은 글씨로 된 숫자가 chat_id이다. 저 아이디와 API 토큰이 있으면 메시지를 전송할 수 있다.



3. 메시지 전송 URL 만들기


chat_id와 API 토큰을 이용하여 메시지 전송 URL을 만들 수 있다.URL은 다음과 같다.

https://api.telegram.org/bot12345678:abcdefghijklmn/sendmessage?chat_id=67890&text=


위에서 만든 URL 처럼 중간에는 API 토큰이 들어가고 뒤에는 메시지 전송 URL이 마저 붙고 파라메터로 chat_id 와 메시지가 붙는다. text에 적당항 메시지를 붙여서 브라우저에 붙이면 봇이 나에게 메시지를 보낸다. 그리고 브라우저에 보면 처리 결과를 json으로 뿌려주기 때문에 callback 처리도 가능하다.


출처 : https://nas.moe/archives/879


저작자 표시 비영리 동일 조건 변경 허락
'SNS' 카테고리의 다른 글
Synology에서 텔레그램 봇으로 로그 전송하기  (0) 	2016.01.19
텔레그램 봇으로 메시지 전송하기  (0) 	2016.01.19
페이스북 공유 데이터 갱신  (0) 	2015.06.15
Trackback 0 : Comment 0
◀ PREV : [1] : [2] : [3] : [4] : [5] : [6] : [7] : [8] : ... [165] : NEXT ▶

juneMoon's Blog is powered by Daum | Design by SmallPark and Rest
Daum
Tistory
로그인
